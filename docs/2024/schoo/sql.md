# SQL

## pt.1

コアとなるのはCRUDの4つしかない。

insert
select
update
delete

最後は半角;
大文字・小文字不問


## pt.2
条件節とは、テーブルにあるデータを操作する際に、対象を絞るときに利用

・危険
where条件節、これを記述しないと全件対象になります
更新・削除は怖い

・条件説
演算結果も条件説にできる
ワイルドカードや正規表現も結構いろいろなパターンがある

## pt.3
rowはいくつ増やしてもいい
列は最初に決める

テーブル制約
- not null
- unique
- check制約
  - 値が0以上
- key制約

- 制約のジレンマ
  - null妥当性

alter tabeはめちゃくちゃ色々できる

ファイルにあるクリエイトテーブル分をコピペで貼るのかそれともそのファイルを読み込ませるのかして実行した方がいいと思います
クリエイトテーブルってテーブルを作って、これでやっていこうね。っていう形にするので、ALTERtableの連発ってのはあんまりよくありません。

まとめ
・マッチした型を列に設定する
・制約を用意してデータの信頼性を上げる
・データの制約はあとから変更できるけどしない
・データ制約は場合によっては衝突するので、フィードバックが大事

## pt.4
関数を使う

算術関数
文字列関数などなど
日付関数
変換関数も

探した結果を、受け取るのに時間がかかるよとか。演算をするのに時間がかかってるよってなったら、実アウトなんで。それは、サーバーの設計見直して、もうちょっと強力な、これはCPUが速いものとかCPUがたくさん持っているものとか。

プログラミングとか技術的なことって、明示的に何かをすると。明らかにascって書いて、これ要らないよね。だって省略したらascになるんだもん。
↓
あえてをわざと書いとくってのがあるんですね。どんなやつが読んでもいいように、書いておくっていうのは、わざと省略可能なことも書いておくっていうのが、他の技術者に対する気遣いができるというのが。明示的に書きましょう。

テーブルを作るときは、必ず型を揃えてくださいという話をしました。
この場合ですと、name列っていうのは文字列が入っていますから、文字列型。ageheightっていうのは、ageheightweightいうのは、それぞれ、年齢、身長、体重が、整数で入ってますから、整数なんです。
ところがt_peason2age列っていうのが、charactervarying32になってます。はい。age列が実は文字列だったんです。

100, 20, 32とったようなascになってしまう
'100', 20', '32'の順番になってしまう

関数は型に注意

## pt.5

索引=インデックス
テーブルについて、インデックスを作成する
検索を非常に高速に行わせることができる
→作らないと全件検索になって遅くなる

件・データの件数が多い
データに偏りがない
insert, update, deleteの頻度が少ない
こういうのがインデックス作成での利点がある

ビュー

select文は演算を行うことができる
結果の出力で加工ができる

出力する列・加工する内容が多いと、いちいちselect文で定義をすることが大変
ビューを作成すると記述量を減らすことができる

シーケンス
採番することができる。これがシーケンスの特徴です。